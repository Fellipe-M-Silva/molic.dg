/* --- Lógica de Handles Inteligentes (Pontos de conexão) --- */

/* Estilo base dos handles */
.react-flow__handle {
	width: 8px;
	height: 8px;
	background: var(--primary);
	opacity: 0; /* Invisível por padrão */
	transition:
		opacity 0.2s ease-in-out,
		background-color 0.2s;
	border-radius: 50%;
	border: 1px solid white;
	outline: 4px solid transparent;
}

/* 1. Quando o usuário está arrastando uma linha (modo de conexão) */
.app-connecting .react-flow__handle {
	opacity: 1;
	background: var(--primary); /* Destaque azul/verde */
	width: 8px;
	height: 8px;
	outline: 4px solid transparent;
}

/* 3. Durante reconexão: esconder TODOS os handles */
.app-reconnecting .react-flow__handle {
	opacity: 0 !important;
}

/* 4. Mostrar apenas handles do nó sendo reconectado */
.app-reconnecting .reconnecting .react-flow__handle {
	opacity: 1 !important;
	background: var(--primary);
	width: 8px;
	height: 8px;
}

/* --- Ajustes Gerais do React Flow --- */
.react-flow__controls {
	box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
	border-radius: 4px;
	overflow: hidden;
}

/* --- Seleção Múltipla com Caixa --- */
/* Quando está selecionando com caixa, desabilitar seleção de texto */
.react-flow__pane {
	user-select: none;
}
/* --- Diagram Wrapper --- */
.diagram-wrapper {
	width: 100%;
	height: 100%;
	display: flex;
	flex-direction: column;
}
