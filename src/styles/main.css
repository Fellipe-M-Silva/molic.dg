:root {
	--neutral-0: oklch(1 0 0);
	--neutral-50: oklch(0.985 0 0);
	--neutral-100: oklch(0.97 0 0);
	--neutral-200: oklch(0.92 0 0);
	--neutral-300: oklch(0.87 0 0);
	--neutral-400: oklch(0.7 0 0);
	--neutral-500: oklch(0.55 0 0);
	--neutral-600: oklch(0.45 0 0);
	--neutral-700: oklch(0.35 0 0);
	--neutral-800: oklch(0.27 0 0);
	--neutral-900: oklch(0.2 0 0);
	--neutral-950: oklch(0.14 0 0);

	--primary-brand: oklch(0.629 0.187 252);
	--primary-dark: oklch(0.45 0.18 280);

	--header-height: 48px;

	/* BACKGROUNDS */
	--bg-base: var(--neutral-0);
	--bg-alt: var(--neutral-100);
	--bg-muted: var(--neutral-300);
	--bg-hover: var(--neutral-100);
	--bg-canvas: var(--neutral-100);

	/* TEXTOS */
	--text-base: var(--neutral-700);
	--text-heading: var(--neutral-900);
	--text-muted: var(--neutral-600);
	--text-primary: var(--neutral-50);

	/* BORDAS */
	--border-base: var(--neutral-300);
	--border-hover: var(--neutral-400);
	--border-muted: var(--neutral-300);
	--border-alt: var(--neutral-300);
	--border-node: var(--neutral-800);
	--border-edge: var(--neutral-800);
	--border-edge-repair: var(--neutral-500);

	/* INTERAÇÃO */
	--primary: oklch(0.629 0.187 252);
	--primary-hover: oklch(0.587 0.193 252);

	--secondary: var(--neutral-200);
	--secondary-hover: var(--neutral-300);
	--secondary-text: var(--neutral-700);
}

:root.dark {
	/* BACKGROUNDS */
	--bg-base: var(--neutral-900);
	--bg-alt: var(--neutral-950);
	--bg-muted: var(--neutral-700);
	--bg-hover: var(--neutral-800);
	--bg-canvas: var(--neutral-950);

	/* TEXTOS */
	--text-base: var(--neutral-50);
	--text-heading: var(--neutral-0);
	--text-muted: var(--neutral-400);
	--text-primary: var(--neutral-900);

	/* BORDAS */
	--border-base: var(--neutral-600);
	--border-hover: var(--neutral-500);
	--border-muted: var(--neutral-600);
	--border-alt: var(--neutral-600);
	--border-node: var(--neutral-200);
	--border-edge: var(--neutral-300);
	--border-edge-repair: var(--neutral-500);

	/* INTERAÇÃO */
	--primary: oklch(0.682 0.176 252);
	--primary-hover: oklch(0.849 0.107 252);

	--secondary: var(--neutral-800);
	--secondary-hover: var(--neutral-700);
	--secondary-text: var(--neutral-300);
}

* {
	box-sizing: border-box;
	margin: 0;
	padding: 0;
}

body,
html,
#root {
	height: 100%;
	width: 100%;
	overflow: hidden;
	font-family:
		"Geist",
		-apple-system,
		BlinkMacSystemFont,
		"Segoe UI",
		sans-serif;
	color: var(--text-base);
	transition:
		background-color 0.3s ease,
		color 0.3s ease;
}

.app-container {
	display: flex;
	flex-direction: column;
	height: 100vh;
}

.header {
	height: var(--header-height);
	background: var(--bg-base);
	color: var(--text-base);
	display: flex;
	align-items: center;
	padding: 0 1rem;
	border-bottom: 1px solid var(--border-alt);
	z-index: 1000;
	position: relative;
}

header h1 {
	font-size: 1.25rem;
	font-weight: 600;
}

.workspace {
	display: flex;
	flex: 1;
	height: calc(100vh - var(--header-height));
	position: relative;
}

.workspace.mobile {
	flex-direction: column;
}

.editor-pane {
	border-right: 1px solid var(--border-muted);
	background: var(--bg-base);
	display: flex;
	flex-direction: column;
	transition: width 0.4s cubic-bezier(0.4, 0, 0.2, 1);
	user-select: none;
	position: relative;
	cursor: col-resize;
}

.workspace.mobile .editor-pane {
	order: 2;
	border-right: none;
	border-top: 1px solid var(--border-muted);
	transition: height 0.4s cubic-bezier(0.4, 0, 0.2, 1);
	width: 100% !important;
	cursor: row-resize;
}

.editor-pane.hidden {
	width: 0 !important;
	overflow: hidden;
	border-right: none;
	pointer-events: none;
}

.workspace.mobile .editor-pane.hidden {
	height: 0 !important;
	width: 100% !important;
	border-top: none;
}

/* Handle de Resize */
.resize-handle {
	position: absolute;
	right: 0;
	top: 0;
	width: 4px;
	height: 100%;
	background: transparent;
	cursor: col-resize;
	transition: background-color 0.2s ease;
	z-index: 100;
}

.resize-handle.horizontal {
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	width: 100%;
	height: 4px;
	cursor: row-resize;
	background: transparent;
	transition: background-color 0.2s ease;
	z-index: 100;
}

.resize-handle:hover {
	background: var(--primary-brand);
}

/* Botão de Toggle - Ocultar */
.editor-toggle-btn.hide {
	position: absolute;
	right: -32px;
	top: 16px;
	transform: translateY(0);
	width: 32px;
	height: 48px;
	border: 1px solid var(--border-muted);
	background: var(--bg-base);
	border-radius: 0 6px 6px 0;
	cursor: pointer;
	display: flex;
	align-items: center;
	justify-content: center;
	color: var(--text-base);
	transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
	z-index: 50;
}

.editor-toggle-btn.hide.mobile {
	right: 16px;
	top: -32px;
	bottom: auto;
	width: 48px;
	height: 32px;
	border-radius: 6px 6px 0 0;
}

.editor-toggle-btn.hide:hover {
	background: var(--bg-alt);
	border-color: var(--border-muted);
}

/* Botão de Toggle - Mostrar (flutuante) */
.editor-toggle-btn.show {
	position: fixed;
	left: 16px;
	top: 64px;
	width: 40px;
	height: 40px;
	border: 1px solid var(--border-muted);
	background: var(--bg-base);
	border-radius: 6px;
	cursor: pointer;
	display: flex;
	align-items: center;
	justify-content: center;
	color: var(--text-base);
	transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
	z-index: 200;
	opacity: 1;
	visibility: visible;
}

.editor-toggle-btn.show.mobile {
	left: auto;
	right: 16px;
	bottom: 16px;
	top: auto;
}

.editor-toggle-btn.show:hover {
	background: var(--bg-alt);
	border-color: var(--border-muted);
}

.diagram-pane {
	flex: 1;
	background: var(--bg-canvas);
	position: relative;
	order: 1;
	width: 100%;
	height: 100%;
}

.workspace.mobile .diagram-pane {
	order: 1;
}

/* Media Queries para Mobile */
@media (max-width: 768px) {
	.workspace {
		flex-direction: column;
	}

	.editor-pane {
		border-right: none;
		border-top: 1px solid var(--border-muted);
	}

	.editor-toggle-btn.hide {
		right: 16px;
		top: auto;
		bottom: -32px;
		width: 48px;
		height: 32px;
		border-radius: 6px 6px 0 0;
	}

	.editor-toggle-btn.show {
		right: 16px;
		bottom: 16px;
		left: auto;
		top: auto;
	}
}
